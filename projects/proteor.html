<!-- <!DOCTYPE html> -->
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PGZH8HT');</script>
  <!-- End Google Tag Manager -->

  <!-- Materialize - Compiled and minified CSS-->
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.95.3/css/materialize.min.css" />
  <!-- Font Awesome Icon - CSS-->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
  <!-- Custom Styles-->
  <link rel="stylesheet" href="/assets/css/style.css" />
  <title>Rohan Punamiya | Robotics Engineer</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-126939217-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-126939217-2');
  </script>

  <!-- Open Graph-->
  <meta property="og:locale" content="en_US" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Rohan Punamiya | Robotics Engineer" />
  <meta property="og:description" content="Robotics Engineer" />
  <meta property="og:url" content="https://rpunamiya.github.io/" />
  <meta property="og:site_name" content="Rohan Punamiya | Robotics Engineer" />
  <meta property="article:publisher" content="https://rpunamiya.github.io/" />
  <meta property="og:image" content="https://rpunamiya.github.io/examples/preview.JPG" />
  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@rpunamiya" />
  <meta name="twitter:title" content="Coder | Technofreak | Explorer | Minimalist | Humane" />
  <meta name="twitter:description" content="Robotics Engineer" />
  <meta name="twitter:url" content="https://twitter.com/varad_bhogayata" />
  <meta name="author" content="Rohan Punamiya" />
  <meta name="description" content="Robotics Engineer with a passion for backend development and artificial intelligence." />
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicon/android-icon-192x192.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png" />
  <link rel="manifest" href="/assets/img/favicon/manifest.json" />
  <meta name="msapplication-TileColor" content="#ffffff" />
  <meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="robots" content="index, follow" />
  <!-- Google Site Verification for indexing -->
  <meta name="google-site-verification" content="_qxK8tePiU2fhnwlwnJ7pkDFnj1k2EiKq_cYGy1Cb84" />
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PGZH8HT"
  height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  
  <!-- Navigation Menu-->
  <!-- Nav class 1 -->
  <nav class="hide-on-small-only">
    <ul class="side-nav fixed section table-of-contents">

      <li class="logo">
        <a id="logo-container" aria-label="Navigate to the beginning of the page" href="../index.html#intro"
          class="brand-logo grey-blue-text">
          <img src="/assets/img/headshot.png" class="circle img-responsive profile-pic" alt="avatar">
        </a>
      </li>

      <li class="bold">
        <a aria-label="Navigate to the About section" href="../index.html#about" class="waves-effect waves-dark teal-text"><i
            class="mdi-social-person small"></i><span>About</span></a>
      </li>
      <li class="bold">
        <a aria-label="Navigate to the Experience section" href="../index.html#experience"
          class="waves-effect waves-dark teal-text"><i
            class="mdi-action-trending-up small"></i><span>Experience</span></a>
      </li>

      <li class="bold">
        <!-- mdi-av-web small
             mdi-av-my-library-books small-->
        <a aria-label="Navigate to the Projects section" href="../index.html#projects" class="waves-effect waves-dark teal-text"><i
            class="mdi-av-my-library-books small"></i><span>Projects</span></a>
      </li>

      <li class="bold">
        <!--
        ICONS:
        mdi-action-assessment
        mdi-social-poll
        mdi-av-equalizer
        -->
        <a aria-label="Navigate to the Skills section" href="../index.html#skills" class="waves-effect waves-dark teal-text"><i
            class="mdi-action-assessment small"></i><span>Skills</span></a>
      </li>
      
      <li class="bold">
        <!--
        ICONS:
        -->
        <a aria-label="Navigate to the Education section" href="../index.html#education" class="waves-effect waves-dark teal-text"><i
            class="mdi-social-school small"></i><span>Education</span></a>
      </li>

      <li class="bold">
        <!-- 
        1. mdi-communication-contacts
        2. mdi-content-mail
        3. mdi-communication-email
        -->
        <a aria-label="Navigate to the Contact section" href="../index.html#contact" class="waves-effect waves-dark teal-text"><i
            class="mdi-content-mail small"></i><span>Contact</span></a>
      </li>

      <li class="bold">
        <!--
        ICONS:
        1. mdi-action-description
        2. mdi-file-folder
        3. mdi-file-folder-open
        4. mdi-file-attachment
        5. mdi-file-folder-shared
        -->
        <!-- <a aria-label="Open Varad's resume in a new tab" href="#resume" target="_blank"
          onclick="window.open('https://drive.google.com/file/d/1vYi-bMyIsZPve0x_clxY8xsDtiHiOMd3/view?usp=sharing')"
          class="waves-effect waves-dark teal-text"><i class="mdi-file-folder-open small"></i><span>Resume</span></a> -->
        <a aria-label="Open Rohan's resume in a new tab" href="/assets/resume/Punamiya, Rohan_Resume-CV.pdf" target="_blank"
        class="waves-effect waves-dark teal-text"><i class="mdi-file-folder-open small"></i><span>Resume</span></a>  
      </li>
    </ul>
  </nav>

  <!-- Nav class 2 -->
  <nav class="hide-on-large only trigger z-depth-1">
    <a aria-label="Toggle visibility of the mobile navbar" href="../index.html#" data-activates="slide-out"
      class="button-collapse"><i class="mdi-navigation-menu"></i></a>
    <div class="name-title">
      <a id="name" aria-label="Navigate to the beginning of the page" href="#" class="teal-text">Rohan
        Punamiya</a><span class="black-text">Robotics Engineer</span>
    </div>
  </nav>

  <!-- Nav class 3 -->
  <nav class="hide-on-large only">
    <ul id="slide-out" class="side-nav">
      <li class="bold">
        <a aria-label="Navigate to the About section" href="../index.html#about" class="waves-effect waves-dark teal-text"><i
            class="mdi-social-person small"></i><span>About</span></a>
      </li>
      <li class="bold">
        <a aria-label="Navigate to the Experience section" href="../index.html#experience"
          class="waves-effect waves-dark teal-text"><i
            class="mdi-action-trending-up small"></i><span>Experience</span></a>
      </li>
      <li class="bold">
        <a aria-label="Navigate to the Projects section" href="../index.html#projects" class="waves-effect waves-dark teal-text"><i
            class="mdi-av-my-library-books small"></i><span>Projects</span></a>
      </li>
      <li class="bold">
        <a aria-label="Navigate to the Skills section" href="../index.html#skills" class="waves-effect waves-dark teal-text"><i
            class="mdi-action-assessment small"></i><span>Skills</span></a>
      </li>

      <li class="bold">
        <a aria-label="Navigate to the Education section" href="../index.html#education" class="waves-effect waves-dark teal-text"><i
            class="mdi-social-school small"></i><span>Education</span></a>
      </li>
      <li class="bold">
        <a aria-label="Navigate to the Contact section" href="../index.html#contact" class="waves-effect waves-dark teal-text"><i
            class="mdi-content-mail small"></i><span>Contact</span></a>
      </li>
      <li class="bold">
        <a aria-label="Open Rohan's Resume in a new tab"
          href="https://drive.google.com/file/d/1B6MZ1z0-7NsefC3Lm_q-uhib28MTqpE9/view?usp=sharing" target="_blank"
          class="waves-effect waves-dark teal-text"><i class="mdi-file-folder-open small"></i><span>Resume</span></a>
      </li>
    </ul>
  </nav>

  <main>
    <section id="Project 2: Proteor" class="section scrollspy">
      <h3 class="page-title white-text teal">Testing & Controlling Prosthetic Knee Actuator</h3>
      
      <div class="container">
        <div class="skill-labels">
          <span class="skill">Nonlinear Control</span>
          <span class="skill">System ID</span>
          <span class="skill">FEM</span>
          <span class="skill">Systems Integration/Testing</span>
          <span class="skill">Python</span>
          <span class="skill">MATLAB</span>
        </div>
        <p><b>Outcome:</b></p>
        <p>
          At the prosthetics company Proteor USA, I designed an automated flow test and mechanical fixture to characterize over ½ million voice coil valve actuators per year for prosthetic knee production, reducing manual testing time from 45 minutes to 20 seconds. I worked with the principal controls engineer to characterize these custom valves using system ID techniques and designed a nonlinear controller, improving steady-state response by 20% and transient response by 31%.
        </p>
        <div class="row scrollable-row">
          <img src="../assets/img/proteor1.jpg" alt="Quattro Knee" style="max-height: 400px;">
          <img src="../assets/img/proteor4.png" alt="Quattro Knee" style="max-height: 400px;">
          <img src="../assets/img/proteor2.webp" alt="Quattro Knee" style="max-height: 400px;">
          <img src="../assets/img/proteor5.jpg" alt="Quattro Knee" style="max-height: 400px;">
        </div>

        <p><b>Motivation:</b></p>
        <p>
          Proteor USA's flagship prosthetic knee Quattro is a smart passive knee, in that it provides varying resistance at different stages of the gait (walking) cycle. For instance, when getting up from a chair, the knee would need to lock in place for the amputated user to get up, whereas when walking, the leg should swing freely with no resistance. The resistance in the knee is controlled with a voice coil valve, which can limit the speed at which fluid enters or exits the piston cylinder assembly controlling the movement of the leg, in turn adding resistance to the leg's movement. 
        </p>
        <p>
          To make their flagship prosthetic knee Quattro more efficient, I collaborated with the Principal Mechanical Engineer and Principal Controls Engineer to implement a smaller and more efficient custom voice coil valve. The previous industry valve used was expensive, inefficient, and difficult to control with little information provided on its inner workings. Designed by the Mechanical Engineer for over 3 years, the new custom valve was planned to be manufactured in-house, reducing the part cost and allowing opportunity for better control of the valve. However, the engineers at Proteor needed a simple and quick test to detect any manufacturing defects in these valves. This automated quick test needed to be designed and implemented by the project launch date, which coincided with the end date of my internship. Furthermore, the current low-level controller for the voice coil valve used a very simple PID approach, which was not the most accurate at all stages of the gait cycle for the non-linear valve system. This was resulting in patients feeling resistance when there should not be any. I was tasked with designing a new controller that mitigated these errors. 
        </p>
        <p><b>Results:</b></p>
        <p>
          Using my knowledge of mechatronic systems, I designed an automated test that measured the dimensionless coefficient of flow, as the valve spindle moved through different positions (causing different knee resistances). A functional valve and malfunctional valve would produce different curves of flow coefficients vs spindle positions.  Furthermore, instead of finely measuring the valve position at each small increment, I sparsely sampled positions and applied a spline curve to best fit the data. Overall, I reduced the testing time from 45 minutes of manual testing time to 80 seconds of automated testing with densely populated points, to 20 seconds of automated testing with sparsely populated points. This test is used by the team today to efficiently evaluate potential defects in over ½ million valves a year.
        </p>
        <p>
          When designing the controller, I performed system ID and formed an analytic math model of the valve system. Being a non-linear system (with the smallest degree being power of 4), we linearized at the aforementioned sparsely sampled points, and tuned the PID controller at those points to create an optimal gain-scheduled controller.
        </p>
        <p><b>Technical Details:</b></p>
        <ul style="list-style-type: disc;">
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">The designed automated test involved measuring the coefficient of flow as the valve spindle moved through different positions using an ALICAT sensor. The coefficient of flow equation is:</li>
          <li style="text-align: center; margin-bottom: 10px;">
            <img src="../assets/img/flow-coefficient-formula.png" style="display: flex; max-height: 200px;">
          </li>
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">During the test, the controller would attempt to move the spindle to a desired position. Air at a fixed flow rate would burst through the valve at that point, and the ALICAT flow meter would measure the pressure into and out of the valve. The computer would record these pressures and calculate the flow coefficient value. This value would be recorded, alongside the actual position of the spindle (measured with the internal hall-effect sensor).</li>
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">Instead of finely measuring the valve position at each small increment, I sparsely sampled positions and applied a spline curve to best fit the data. This reduced the testing time from 80s to 20s, by looking at fewer points.</li>
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">By performing system ID, I developed analytic math model of the valve. The valve was actuated by a coil actuator which manipulated the magnetic field in the valve, causing the spindle to move. To model these complex magnetic field interactions, the open-source FEMM software was utilized. </li>
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">Being a non-linear system (with the smallest degree being power of 4), we linearized at the sparsely sampled points, and found the desired gains using the analytic model. </li>
          <li style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">The desired gains were fine-tuned for the final gain-scheduled controller, which improved steady-state response by 20% and transient response by 31% overall.</li>
        </ul>

        <p><b><a href="https://patents.google.com/patent/US9028557B2/en" class="hoverline">Prosthetic with Voice Coil Valve Patent</a>:</b></p>
        <p>
          A prosthetic includes a pair of prosthetic members movably coupled together to allow movement of the pair of prosthetic members with respect to one another. A hydraulic actuator or damper including hydraulic fluid in a hydraulic chamber is coupled to one of the pair of prosthetic members. A hydraulic piston is movably disposed in the hydraulic chamber and coupled to another of the pair of prosthetic members. A hydraulic flow channel is fluidly coupled between opposite sides of the chamber to allow hydraulic fluid to move between the opposite sides of the chamber as the hydraulic piston moves therein. A voice coil valve is coupled to the hydraulic flow channel to vary resistance to flow of hydraulic fluid through the flow channel, and thus movement of the piston in the chamber, and thus influencing a rate of movement of the pair of prosthetic members with respect to one another.
        </p>
      </div>
    </section>
  </main>
</body>
</html>